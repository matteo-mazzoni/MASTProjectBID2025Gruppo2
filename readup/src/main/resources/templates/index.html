<!DOCTYPE html>
<html lang="it">
    
    <!-- Head -->
    <head th:replace="~{fragments :: head(title='Home • Readup', pageCss='/css/pages/index_style.css')}"></head>
    <!-- / Head -->
  
    <body>
        <!-- Header -->
        <header th:replace="~{fragments :: header}"></header>
        <!-- / Header -->
       
    
        <div th:fragment="content">

            <!-- Main -->
            <main>
                
                <div class="tagline text-center py-5">
                    <h1 class="primary_title">Benvenuto in ReadUp</h1>
                    <h3 class="secondary_title">Un libro alla volta, un punto alla volta</h3>
                    <h6 class="description">La piattaforma dove ogni libro diventa un’esperienza condivisa.</h6>
                    <h6 class="description">Unisciti a oltre 10.000 lettori: scopri, discuti e incentiva la tua passione per la lettura.</h6>
                </div>    

                <hr>

                <div class="container_90">

                    <!-- Hero section -->
                    <section id="top-books-carousel" class="py-5 bg-light">
                        <div class="container">
                            <h2 class="mb-4 text-center">I libri più visti della settimana</h2>

                            <div id="carouselBooks" class="carousel slide" data-bs-ride="carousel">
                                <div class="carousel-inner">

                                    <!-- Partition in sottoliste di 4 libri ciascuna -->
                                    <!-- <div th:each="slide, slideStat : ${#lists.partition(topBooks, 4)}"
                                        th:classappend="${slideStat.index == 0} ? ' active' : ''" class="carousel-item">
                                    </div> -->
                                       
                                    
                                    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
                                        <!-- Una card per libro -->
                                        <div th:each="book : ${slide}" class="col">
                                        <div class="card h-100 shadow-sm">
                                            <!-- <img th:src="@{https://covers.openlibrary.org/b/isbn/{isbn}-M.jpg(isbn=${book.isbn})}" -->
                                                <!-- th:alt="${book.title}"
                                                class="card-img-top"
                                                onerror="this.src='/img/placeholder-cover.png'"> -->
                                            <div class="card-body d-flex flex-column">
                                            <h5 class="card-title" th:text="${book.title}">Titolo</h5>
                                            <p class="card-text text-muted mb-4" th:text="${book.author}">Autore</p>
                                            <a th:href="@{/books/{id}(id=${book.id})}" 
                                                class="mt-auto btn btn-sm btn-outline-primary">
                                                Scopri di più
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <!-- / card -->
                            </div>
                            </div>
                                <!-- / slide -->

                        </div>
                        
                        <!-- Controlli -->
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselBooks" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Precedente</span>
                        </button>

                        <button class="carousel-control-next" type="button" data-bs-target="#carouselBooks" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Successivo</span>
                        </button>
                        
                        <!-- Indicatori (opzionali) -->
                        <div class="carousel-indicators">
                            <button type="button" data-bs-target="#carouselBooks" data-bs-slide-to="0" class="active" aria-current="true"></button>
                            <button type="button" data-bs-target="#carouselBooks" data-bs-slide-to="1"></button>
                            <!-- Aggiungi dinamicamente con Thymeleaf se vuoi -->
                        </div>
                            
                    </section>
                    <!-- / Hero section -->
                          
                    <!-- Registration form section-->
                    <section class="registration-form">
                        <div class="registration-text">
                            <h1>Scopri un nuovo modo di leggere</h1>
                            <p>Con ReadUp trasformi ogni pagina in un’esperienza social.</p>
                        </div>

                        <div class="registration-card">
                            <h5>Registrati gratuitamente in meno di 1 minuto</h5>
                            <form th:action="@{/register}" method="post">
                                <input type="text" id="username" name="username" placeholder="Username" autofocus/>
                                <input type="email" name="email" placeholder="Email"/>
                                <input type="password" name="password" placeholder="Password" />
                                <button type="submit">Registrati</button>
                                <p class="text-center">Hai già un account? <a th:href="@{/login}">Accedi</a> </p>
                            </form>
                        </div>

                        
                    </section>     
                    <!-- / Registration form section -->

                </div>
                
                <!-- Testimonials -->
                <section class="testimonials-grid" th:fragment="testimonials">
                    <div class="testimonial">
                        <p>«ReadUp ha rivoluzionato il mio modo di leggere.»</p>
                        <footer>— <span th:text="${user1}">Maria Rossi</span></footer>
                    </div>
                    <div class="testimonial">
                        <p>«Le statistiche mi aiutano a raggiungere nuovi obiettivi ogni mese.»</p>
                        <footer>— <span th:text="${user2}">Luca Bianchi</span></footer>
                    </div>
                </section>
                <!-- / Testimonials -->
        
            </main>
            <!-- / Main -->
        </div>
                            
        <!-- Footer -->
        <footer th:replace="~{fragments :: footer}"></footer>
    </body>
</html>