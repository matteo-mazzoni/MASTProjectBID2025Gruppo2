<!DOCTYPE html>
<html lang="it">
    
    <!-- Head -->
    <head th:replace="~{fragments :: head(
        title='I nostri libri • Readup', pageCss='/css/pages/allbooks_style.css', 
        extraPageCss=${null}, 
        pageJS=${null})}">
    </head>  
    <!-- / Head -->
  
    <body>
        <!-- Header -->
        <header th:replace="~{fragments :: header}"></header>
        <!-- / Header -->

        <div th:fragment="content">

            <!-- Main -->
            <main>

                <div class="container_90">

                    <!-- Tagline -->
                    <div class="row">
                        <div class="col-12 tagline text-center py-lg-5 py-md-4 py-sm-3 py-2">
                            <h1 class="primary_title">Tutti i libri disponibili su ReadUp</h1>
                            <h3 class="secondary_title">Un libro alla volta, un punto alla volta</h3>
                            <h6 class="description">La piattaforma dove ogni libro diventa un’esperienza condivisa.</h6>
                        </div>  
                    </div>
                    <!-- / Tagline -->

                    <!-- Book catalogue -->
                    <div class="row">
                        <div class="col-6 col-sm-4 col-md-3 col-lg-2 mb-4" th:each="book : ${books}">
                            

                            <!-- Single card -->
                            <div class="card h-100">

                                <!-- if there is an ISBN, display the book cover -->
                                <img th:if="${book.isbn != null}"
                                    th:src="@{${book.coverUrl}}"
                                    class="card-img-top"
                                    th:alt="'Copertina di ' + ${book.titolo}"
                                    onerror="this.onerror=null; this.src='[[ @{/img/book-cover-placeholder.png} ]]';"/>

                                <!-- If there is no ISBN, use a placeholder image -->
                                <img th:if="${book.isbn == null}"
                                    th:src="@{/img/book-cover-placeholder.png}"
                                    class="card-img-top"
                                    alt="Placeholder copertina"/>

                                <!-- Card body with book details -->
                                <div class="card-body d-flex flex-column">

                                    <!-- Book details -->
                                    <h5 class="card-title text-center" th:text="${book.titolo}">Titolo</h5>
                                    <p class="card-text text-center mb-4" th:text="${book.autore}">Autore</p>
                                    <p class="card-text text-center mb-4" th:text="'Genere: ' + ${book.genere}">Genere</p>
                                    <p class="card-text text-center mb-4" th:text="'Num pagine: ' + ${book.numPagine}">Num pagine</p>
                                    <!-- / Book details -->

                                    <!-- Buttons-->
                                    <a th:href="@{/books/add/{id}(id=${book.idLibro})}" class="btn btn-secondary mt-auto">Aggiungi ai miei libri</a>                                
                                    <a th:href="@{/books/add/{id}(id=${book.idLibro})}"  class="btn btn-secondary mt-auto">Aggiungi a una sfida</a>
                                    <!-- / Buttons --> 
                                                               
                                </div>
                                <!-- / Card body with book details -->
                            
                            </div>
                            <!-- / Single card -->

                        </div>
                    </div>
                    <!-- / Book catalogue -->
                </div>
            
            </main>
            <!-- / Main -->

        </div>
        
        <!-- Footer -->
        <footer th:replace="~{fragments :: footer}"></footer>
        <!-- / Footer -->

    </body>

</html>